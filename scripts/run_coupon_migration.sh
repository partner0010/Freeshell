#!/bin/bash
# 쿠폰 시스템 데이터베이스 마이그레이션 실행 스크립트 (Linux/Mac)

echo "============================================================"
echo "쿠폰 시스템 데이터베이스 마이그레이션"
echo "============================================================"
echo ""

# 환경 변수 로드 (.env 파일이 있는 경우)
if [ -f .env ]; then
    echo ".env 파일에서 환경 변수 로드 중..."
    export $(cat .env | grep -v '^#' | xargs)
fi

# Python 스크립트 실행
python3 scripts/run_coupon_migration.py

if [ $? -eq 0 ]; then
    echo ""
    echo "============================================================"
    echo "마이그레이션 완료!"
    echo "============================================================"
else
    echo ""
    echo "============================================================"
    echo "마이그레이션 실패. 오류를 확인하세요."
    echo "============================================================"
    exit 1
fi
